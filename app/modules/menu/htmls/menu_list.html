<div class="filter clearfix basis-module">
	<div class="page-header">
		<ol class="breadcrumb">
			<li><a href="#/welcome"><h1><i class="icon-home"></i>{{$root.global.dictionary.home}}<h1></a></li>
			<li>{{$root.global.menu.nowMenu.parent.name}}</li>
			<li><a href="#{{$root.global.menu.nowMenu.url}}">{{$root.global.menu.nowMenu.name}}</a></li>
		</ol>
	</div>

	<div class="page-body">
		<form class="form-horizontal">
			<div class="form-group col-sm-4">
				<label class="control-label col-sm-4">菜单名:</label>
				<div class="col-sm-8">
					<input type="text" ng-model="entity.name" class="form-control" placeholder="{{$root.global.dictionary.public.holder.likeQuery}}">
				</div>
			</div>
			<div class="form-group col-sm-4">
				<label class="control-label col-sm-4">菜单地址:</label>
				<div class="col-sm-8">
					<input type="text" ng-model="entity.url" class="form-control" placeholder="{{$root.global.dictionary.public.holder.likeQuery}}">
				</div>
			</div>
			<div class="form-group col-sm-4">
				<label class="control-label col-sm-4">状态:</label>
				<div class="col-sm-8">
					<select class="form-control" ng-model="entity.status">
						<option value="">&nbsp;</option>
						<option value="0">{{$root.global.dictionary.menu.statusNormal}}</option>
						<option value="1">{{$root.global.dictionary.menu.statusAbolish}}</option>
					</select>
				</div>
			</div>
			<div class="form-group col-sm-4">
				<label class="control-label col-sm-4">级别:</label>
				<div class="col-sm-8">
					<input type="number" ng-model="entity.level" class="form-control">
				</div>
			</div>
			<div class="form-group col-sm-12">
				<div class="col-sm-2 pull-right">
					<button type="submit" class="btn btn-primary form-control" ng-click="query()" ng-disabled="entity.querying"><span class="add-on"><i class="icon-search"></i></span>{{$root.global.dictionary.public.label.query}}</button>
				</div>
				<div class="col-sm-2 pull-right">
					<button type="submit" class="btn btn-primary form-control" ng-click="create()" ><i class="icon-plus"></i>{{$root.global.dictionary.public.label.create}}</button>
				</div>
				<div class="col-sm-2 pull-right">
					<button type="submit" class="btn btn-primary form-control" ng-click="levelRelation()" ><i class="icon-sitemap"></i>层级关系</button>
				</div>
			</div>
		</form>
		<br />
		<table class="table table-striped">
			<header>
				<th>#</th>
				<th>菜单名</th>
				<th>菜单地址</th>
				<th>状态</th>
				<th>级别</th>
				<th>创建人</th>
				<th>创建时间</th>
				<th>操作</th>
			</header>
			<tbody>
				<tr ng-if="!result.menuList  && page.totalCount !== 0">
					<td class="loading-holder" colspan="40">
						<div class="text-center">
							<span ><i class="icon-spinner icon-spin"></i></span>
						</div>
					</td>
				</tr>
				<tr ng-if="page.totalCount === 0">
					<td colspan="40">
						<div class="text-center">{{$root.global.dictionary.public.label.noData}}</div>
					</td>
				</tr>
			</tbody>
			<tbody>
				<tr ng-repeat="menu in result.menuList">
					<td >{{$index + 1 + (page.pageNo - 1) * page.pageSize}}</td>
					<td>{{menu.name}}</td>
					<td>{{menu.url}}</td> 
					<td>{{menu.status | menuStatusFilter }}</td> 
					<td>{{menu.level }}</td> 
					<td>{{menu.createName}}</td> 
					<td>{{menu.createAt | date:'yyyy-MM-dd HH:mm:ss'}}</td>
					<td>
						<a href="javascript:;" ng-click="level(menu)">层级</a>
						<a href="javascript:;" ng-if="menu.status == 0" ng-click="changeStatus(menu,1)">废除</a>
						<a href="javascript:;" ng-if="menu.status == 1" ng-click="changeStatus(menu,0)">启用</a>
					</td>
				</tr>
			</tbody>
		</table>
	</div>
	<div class="page-footer">
		<uib-pagination total-items="page.totalCount" ng-model="page.pageNo" items-per-page="page.pageSize" ng-change="query()"  max-size="5" class="pagination-sm pull-right" boundary-link-numbers="true" rotate="true" next-text="{{$root.global.dictionary.pagination.label.nextText}}" previous-text="{{$root.global.dictionary.pagination.label.previousText}}"></uib-pagination>
	</div>
</div>